<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>EMS-ESP Installer</title>
    <script type="module" src="https://unpkg.com/esp-web-tools@10.0.1/dist/web/install-button.js?module"></script>
    <style></style>
  </head>

  <body>
    <div class="container" style="height: 100%">
      <div class="jumbotron" style="width: 100%; height: 75%">
        <h1 class="display-3">EMS-ESP Installer</h1>
        <p class="lead">This is to pre-load BBQKees Gateway boards with EMS-ESP factory firmware.</p>
        <hr class="my-4" />
        <p>
          Plug the device to your computer using a USB cable and select th BBQKees Gateway device, and click on the connect button below.
        </p>
      </div>

      <div id="device_tiles">
        <div class="d-flex flex-row">
          <div class="card bg-secondary mb-3" style="max-width: 20rem" role="button">
            <div class="card-header bg-primary" role="button" id="cardS3_header" manifest="artifacts/manifest-S3.json">
              <input id="cardS3" type="radio" checked="" /><label for="cardS3"
                >&nbsp;Gateway S3</label
              >
            </div>
            <div class="card-body">
              <p class="card-text">
                The EMS Gateway S3 (Standard Edition V3.0), WiFi only. Running on an ESP32-S3 with 16MB Flash and PSRAM.
              </p>
              <a href="https://bbqkees-electronics.nl/product/gateway-s3-standard-wifi-edition">Gateway S3 (Standard WiFi Edition V3)</a>
              </p>
              <img src="images/S3.jpg" width="100%" />
            </div>
          </div>

          <div class="card bg-secondary mb-3" style="max-width: 20rem" role="button">
            <div class="card-header" role="button" id="cardE32V2_header" manifest="artifacts/manifest-E32V2.json">
              <input id="cardE32V2" type="radio" /><label for="cardE32V2">&nbsp;Gateway E32</label>
            </div>
            <div class="card-body">
                <p class="card-text">
                The new Gateway E32 V2, supporting both Ethernet, Wifi and Relays. Running on an ESP32 with 16MB Flash.
                </p>
                <a href="https://bbqkees-electronics.nl/product/gateway-e32-v2-ethernet-wifi-edition-v2">Gateway E32 V2 (Ethernet + WiFi Edition V2)</a>
                </p>
                <img src="images/E32V2.jpg" width="100%" />
              </div>
          </div>

        </div>
      </div>

      <div class="mb-3">
        <esp-web-install-button id="button_web_install" manifest="artifacts/manifest">
          <button type="button" class="btn btn-primary" slot="activate">Connect</button>
          <span slot="not-allowed">
            <div class="alert alert-dismissible alert-danger">
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button><strong>Not Allowed</strong>
              <div>Flashing is only supported from the local host or from a secure web site.</div>
            </div>
          </span>
          <span slot="notsupported">
            <div class="alert alert-dismissible alert-danger">
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button
              ><strong>Browser Not Supported</strong>
              <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Serial_API#browser_compatibility"
                >Make sure you are using a compatible browser</a
              >
            </div>
          </span>
        </esp-web-install-button>
      </div>

      <div style="height: 75%">
        <div class="panel panel-default">
          <div class="panel-body">
            <ul id="platforms_tabs" class="nav nav-tabs" role="tablist"></ul>
            <div id="firmware_content" class="tab-content"></div>
            <div class="accordion" id="platforms"></div>
          </div>
          <div class="panel-footer mt-4">
            <a href="https://github.com/emsesp/EMS-ESP32">EMS-ESP32</a>
            &mdash;
            <a href="https://bbqkees-electronics.nl/wiki/">BBQKees Electronics</a>
            &mdash;
            <a href="https://esphome.github.io/esp-web-tools/">Installer based on ESP Web Tools</a>
          </div>
        </div>
      </div>

    </div>
  </body>
</html>
